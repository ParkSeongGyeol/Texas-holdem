# ê²Œì„ í”Œë¡œìš° ì •ì˜ (Game Flow)

**ì‘ì„±ì**: ë°•ì„±ê²°
**ì‘ì„±ì¼**: 2025-10-01
**ëª©ì **: í•¸ë“œ ì‹œì‘ë¶€í„° ì¢…ë£Œê¹Œì§€ ì „ì²´ ê²Œì„ íë¦„ ì •ì˜

---

## ğŸ“š ëª©ì°¨
1. [ì „ì²´ ê²Œì„ íë¦„](#ì „ì²´-ê²Œì„-íë¦„)
2. [í•¸ë“œ ì‹œì‘ ì‹œí€€ìŠ¤](#í•¸ë“œ-ì‹œì‘-ì‹œí€€ìŠ¤)
3. [ë”œëŸ¬ ë²„íŠ¼ ê´€ë¦¬](#ë”œëŸ¬-ë²„íŠ¼-ê´€ë¦¬)
4. [ë¸”ë¼ì¸ë“œ ì²˜ë¦¬](#ë¸”ë¼ì¸ë“œ-ì²˜ë¦¬)
5. [ë² íŒ… ë¼ìš´ë“œ íë¦„](#ë² íŒ…-ë¼ìš´ë“œ-íë¦„)
6. [ì¡°ê¸° ì¢…ë£Œ ì¼€ì´ìŠ¤](#ì¡°ê¸°-ì¢…ë£Œ-ì¼€ì´ìŠ¤)
7. [ì‡¼ë‹¤ìš´ ë° íŒŸ ë¶„ë°°](#ì‡¼ë‹¤ìš´-ë°-íŒŸ-ë¶„ë°°)

---

## ì „ì²´ ê²Œì„ íë¦„

### í•˜ì´ë ˆë²¨ ì‹œí€€ìŠ¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ê²Œì„ ì´ˆê¸°í™”                        â”‚
â”‚  - í”Œë ˆì´ì–´ ë“±ë¡ (2~10ëª…)                            â”‚
â”‚  - ì´ˆê¸° ì¹© ë¶„ë°° (ê° 1000ì¹©)                          â”‚
â”‚  - ë”œëŸ¬ ë²„íŠ¼ ìœ„ì¹˜ ì„¤ì •                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  í•¸ë“œ ë£¨í”„ ì‹œì‘  â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                  â†“                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
         â”‚  1. í•¸ë“œ ì¤€ë¹„    â”‚                  â”‚
         â”‚  - ë± ë¦¬ì…‹/ì…”í”Œ  â”‚                  â”‚
         â”‚  - í”Œë ˆì´ì–´ ë¦¬ì…‹ â”‚                  â”‚
         â”‚  - ë”œëŸ¬ ë²„íŠ¼ ì´ë™â”‚                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                  â†“                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
         â”‚  2. ë¸”ë¼ì¸ë“œ     â”‚                  â”‚
         â”‚  - SB ë² íŒ…       â”‚                  â”‚
         â”‚  - BB ë² íŒ…       â”‚                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                  â†“                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
         â”‚  3. í™€ì¹´ë“œ ë”œë§  â”‚                  â”‚
         â”‚  - ê° 2ì¥ ë°°ë¶„   â”‚                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                  â†“                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
         â”‚ 4. PREFLOP ë² íŒ…  â”‚                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                  â†“                            â”‚
                ì¡°ê¸° ì¢…ë£Œ? â”€YESâ”€â†’ (íŒŸ ë¶„ë°°) â”€â”€â”€â”¤
                  â”‚NO                          â”‚
                  â†“                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
         â”‚  5. FLOP         â”‚                  â”‚
         â”‚  - ë²ˆì¹´ë“œ + 3ì¥  â”‚                  â”‚
         â”‚  - ë² íŒ… ë¼ìš´ë“œ   â”‚                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                  â†“                            â”‚
                ì¡°ê¸° ì¢…ë£Œ? â”€YESâ”€â†’ (íŒŸ ë¶„ë°°) â”€â”€â”€â”¤
                  â”‚NO                          â”‚
                  â†“                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
         â”‚  6. TURN         â”‚                  â”‚
         â”‚  - ë²ˆì¹´ë“œ + 1ì¥  â”‚                  â”‚
         â”‚  - ë² íŒ… ë¼ìš´ë“œ   â”‚                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                  â†“                            â”‚
                ì¡°ê¸° ì¢…ë£Œ? â”€YESâ”€â†’ (íŒŸ ë¶„ë°°) â”€â”€â”€â”¤
                  â”‚NO                          â”‚
                  â†“                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
         â”‚  7. RIVER        â”‚                  â”‚
         â”‚  - ë²ˆì¹´ë“œ + 1ì¥  â”‚                  â”‚
         â”‚  - ë² íŒ… ë¼ìš´ë“œ   â”‚                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                  â†“                            â”‚
                ì¡°ê¸° ì¢…ë£Œ? â”€YESâ”€â†’ (íŒŸ ë¶„ë°°) â”€â”€â”€â”¤
                  â”‚NO                          â”‚
                  â†“                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
         â”‚  8. SHOWDOWN     â”‚                  â”‚
         â”‚  - íŒ¨ ë¹„êµ       â”‚                  â”‚
         â”‚  - íŒŸ ë¶„ë°°       â”‚                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                  â†“                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
         â”‚  9. í•¸ë“œ ì¢…ë£Œ    â”‚                  â”‚
         â”‚  - ì¹© 0 ì²´í¬     â”‚                  â”‚
         â”‚  - í†µê³„ ì—…ë°ì´íŠ¸ â”‚                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                  â†“                            â”‚
            ê²Œì„ ê³„ì†? â”€YESâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚NO
                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   ê²Œì„ ì¢…ë£Œ      â”‚
         â”‚  - ìµœì¢… ìˆœìœ„     â”‚
         â”‚  - í†µê³„ ì¶œë ¥     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## í•¸ë“œ ì‹œì‘ ì‹œí€€ìŠ¤

### ìƒì„¸ í”Œë¡œìš°

```python
def new_hand(self):
    """ìƒˆ í•¸ë“œ ì‹œì‘"""
    print("\\n" + "="*50)
    print(f"  ìƒˆ í•¸ë“œ ì‹œì‘ (í•¸ë“œ #{self.hand_number})")
    print("="*50 + "\\n")

    # 1. ê²Œì„ ìƒíƒœ ì´ˆê¸°í™”
    self.deck.reset()
    self.deck.shuffle()
    self.community_cards = []
    self.pot = 0
    self.current_bet = 0
    self.current_phase = GamePhase.PREFLOP

    # 2. í”Œë ˆì´ì–´ ìƒíƒœ ë¦¬ì…‹
    for player in self.players:
        player.reset_for_new_hand()

    # 3. í™œì„± í”Œë ˆì´ì–´ í™•ì¸ (ì¹©ì´ ìˆëŠ” í”Œë ˆì´ì–´ë§Œ)
    active_players = [p for p in self.players if p.is_active]
    if len(active_players) < 2:
        print("ê²Œì„ì„ ê³„ì†í•˜ê¸° ìœ„í•œ í”Œë ˆì´ì–´ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.")
        return False

    # 4. ë”œëŸ¬ ë²„íŠ¼ ì´ë™
    self.move_dealer_button()
    print(f"ë”œëŸ¬ ë²„íŠ¼: {self.players[self.dealer_position].name}")

    # 5. ë¸”ë¼ì¸ë“œ ë² íŒ…
    self.post_blinds()

    # 6. í™€ ì¹´ë“œ ë”œë§
    self.deal_hole_cards()

    # 7. ê²Œì„ ìƒíƒœ ì¶œë ¥
    self.display_game_state()

    return True
```

### ë‹¨ê³„ë³„ ì„¤ëª…

#### 1ë‹¨ê³„: ê²Œì„ ìƒíƒœ ì´ˆê¸°í™”
```python
# ë± ë¦¬ì…‹ ë° ì…”í”Œ
self.deck.reset()        # 52ì¥ ì¹´ë“œ ë³µêµ¬
self.deck.shuffle()      # Fisher-Yates ì•Œê³ ë¦¬ì¦˜

# ì»¤ë®¤ë‹ˆí‹° ì¹´ë“œ ë° íŒŸ ì´ˆê¸°í™”
self.community_cards = []
self.pot = 0
self.current_bet = 0
self.current_phase = GamePhase.PREFLOP
```

#### 2ë‹¨ê³„: í”Œë ˆì´ì–´ ë¦¬ì…‹
```python
for player in self.players:
    player.reset_for_new_hand()
    # - hand = []
    # - current_bet = 0
    # - has_folded = False
    # - is_all_in = False
    # - is_active = (chips > 0)
```

#### 3ë‹¨ê³„: í™œì„± í”Œë ˆì´ì–´ ê²€ì¦
```python
active_players = [p for p in self.players if p.is_active]
if len(active_players) < 2:
    # ê²Œì„ ì¢…ë£Œ ì¡°ê±´
    winner = active_players[0]
    print(f"\\nğŸ† {winner.name}ë‹˜ì´ ìš°ìŠ¹í–ˆìŠµë‹ˆë‹¤!")
    return False
```

---

## ë”œëŸ¬ ë²„íŠ¼ ê´€ë¦¬

### ë”œëŸ¬ ë²„íŠ¼ ì´ë™ ë¡œì§

```python
def move_dealer_button(self):
    """ë”œëŸ¬ ë²„íŠ¼ì„ ë‹¤ìŒ í™œì„± í”Œë ˆì´ì–´ë¡œ ì´ë™"""
    if self.hand_number == 1:
        # ì²« í•¸ë“œ: ëœë¤ ë˜ëŠ” ì²« ë²ˆì§¸ í”Œë ˆì´ì–´
        self.dealer_position = 0
    else:
        # ì‹œê³„ ë°©í–¥ìœ¼ë¡œ ë‹¤ìŒ í™œì„± í”Œë ˆì´ì–´
        next_pos = (self.dealer_position + 1) % len(self.players)
        while not self.players[next_pos].is_active:
            next_pos = (next_pos + 1) % len(self.players)
        self.dealer_position = next_pos
```

### í¬ì§€ì…˜ ê³„ì‚°

#### 2ì¸ ê²Œì„
```
ë”œëŸ¬ ë²„íŠ¼ = í”Œë ˆì´ì–´ A
â†’ Aê°€ ìŠ¤ëª° ë¸”ë¼ì¸ë“œ ê²¸ ë”œëŸ¬
â†’ Bê°€ ë¹… ë¸”ë¼ì¸ë“œ

í”„ë¦¬í”Œë¡­ ì•¡ì…˜ ìˆœì„œ: A â†’ B
í”Œë¡­ ì´í›„ ì•¡ì…˜ ìˆœì„œ: B â†’ A
```

#### ë‹¤ì¸ ê²Œì„ (3ëª… ì´ìƒ)
```
ë”œëŸ¬ ë²„íŠ¼ ìœ„ì¹˜: í”Œë ˆì´ì–´ D
ìŠ¤ëª° ë¸”ë¼ì¸ë“œ: (D + 1) % num_players
ë¹… ë¸”ë¼ì¸ë“œ: (D + 2) % num_players

ì•¡ì…˜ ìˆœì„œ (í”„ë¦¬í”Œë¡­): (BB + 1) â†’ ... â†’ D â†’ SB â†’ BB
ì•¡ì…˜ ìˆœì„œ (í”Œë¡­ ì´í›„): SB â†’ BB â†’ ... â†’ D
```

### êµ¬í˜„ ì½”ë“œ

```python
def get_sb_position(self) -> int:
    """ìŠ¤ëª° ë¸”ë¼ì¸ë“œ ìœ„ì¹˜"""
    if len(self.players) == 2:
        # 2ì¸ ê²Œì„: ë”œëŸ¬ê°€ SB
        return self.dealer_position
    else:
        # ë‹¤ì¸ ê²Œì„: ë”œëŸ¬ ë‹¤ìŒ
        return (self.dealer_position + 1) % len(self.players)

def get_bb_position(self) -> int:
    """ë¹… ë¸”ë¼ì¸ë“œ ìœ„ì¹˜"""
    if len(self.players) == 2:
        # 2ì¸ ê²Œì„: ë…¼-ë”œëŸ¬ê°€ BB
        return (self.dealer_position + 1) % len(self.players)
    else:
        # ë‹¤ì¸ ê²Œì„: SB ë‹¤ìŒ
        return (self.dealer_position + 2) % len(self.players)
```

---

## ë¸”ë¼ì¸ë“œ ì²˜ë¦¬

### ë¸”ë¼ì¸ë“œ ë² íŒ… ì‹œí€€ìŠ¤

```python
def post_blinds(self):
    """ë¸”ë¼ì¸ë“œ ë² íŒ… ì²˜ë¦¬"""
    sb_pos = self.get_sb_position()
    bb_pos = self.get_bb_position()

    sb_player = self.players[sb_pos]
    bb_player = self.players[bb_pos]

    # ìŠ¤ëª° ë¸”ë¼ì¸ë“œ
    sb_amount = min(self.small_blind, sb_player.chips)
    actual_sb = sb_player.bet(sb_amount)
    self.pot += actual_sb
    print(f"ğŸ’° {sb_player.name}: ìŠ¤ëª° ë¸”ë¼ì¸ë“œ {actual_sb} ë² íŒ…")

    # ë¹… ë¸”ë¼ì¸ë“œ
    bb_amount = min(self.big_blind, bb_player.chips)
    actual_bb = bb_player.bet(bb_amount)
    self.pot += actual_bb
    self.current_bet = actual_bb
    print(f"ğŸ’° {bb_player.name}: ë¹… ë¸”ë¼ì¸ë“œ {actual_bb} ë² íŒ…")

    # ì˜¬ì¸ ì²´í¬
    if sb_player.is_all_in:
        print(f"  âš ï¸  {sb_player.name} ì˜¬ì¸!")
    if bb_player.is_all_in:
        print(f"  âš ï¸  {bb_player.name} ì˜¬ì¸!")

    print(f"\\ní˜„ì¬ íŒŸ: {self.pot}")
```

### ë¸”ë¼ì¸ë“œ ê¸ˆì•¡ ì„¤ì •

```python
class PokerGame:
    def __init__(self):
        # ê¸°ë³¸ ë¸”ë¼ì¸ë“œ
        self.small_blind = 5
        self.big_blind = 10

        # ë¸”ë¼ì¸ë“œ ë ˆë²¨ (í† ë„ˆë¨¼íŠ¸ ëª¨ë“œ)
        self.blind_level = 1
        self.hands_per_level = 10  # 10í•¸ë“œë§ˆë‹¤ ë¸”ë¼ì¸ë“œ ìƒìŠ¹
```

### ë¸”ë¼ì¸ë“œ ìƒìŠ¹ ë¡œì§ (ì˜µì…˜)

```python
def increase_blinds(self):
    """ë¸”ë¼ì¸ë“œ ë ˆë²¨ ìƒìŠ¹"""
    if self.hand_number % self.hands_per_level == 0:
        self.blind_level += 1
        self.small_blind *= 2
        self.big_blind *= 2
        print(f"\\nğŸ“ˆ ë¸”ë¼ì¸ë“œ ìƒìŠ¹!")
        print(f"   ë ˆë²¨ {self.blind_level}: SB={self.small_blind}, BB={self.big_blind}")
```

---

## ë² íŒ… ë¼ìš´ë“œ íë¦„

### ë² íŒ… ë¼ìš´ë“œ ì‹¤í–‰

```python
def run_betting_round(self, phase: GamePhase):
    """ë² íŒ… ë¼ìš´ë“œ ì‹¤í–‰"""
    print(f"\\n{'â”€'*50}")
    print(f"  {phase.value.upper()} ë² íŒ… ë¼ìš´ë“œ")
    print(f"{'â”€'*50}")

    # ì‹œì‘ ìœ„ì¹˜ ê²°ì •
    if phase == GamePhase.PREFLOP:
        # í”„ë¦¬í”Œë¡­: BB ë‹¤ìŒë¶€í„°
        start_pos = (self.get_bb_position() + 1) % len(self.players)
    else:
        # í”Œë¡­ ì´í›„: SBë¶€í„°
        start_pos = self.get_sb_position()

    # ë² íŒ… ë¼ìš´ë“œ ì§„í–‰
    current_pos = start_pos
    players_acted = {i: False for i in range(len(self.players))}
    action_count = 0

    while True:
        player = self.players[current_pos]

        # ì•¡ì…˜ ê°€ëŠ¥í•œ í”Œë ˆì´ì–´ë§Œ
        if player.can_act():
            action, amount = self.get_player_action(player)
            self.process_action(player, action, amount, phase)
            players_acted[current_pos] = True
            action_count += 1

            # ì¡°ê¸° ì¢…ë£Œ ì²´í¬
            if self.check_early_finish():
                print("\\nâš¡ í•œ ëª…ë§Œ ë‚¨ì•„ ë² íŒ… ë¼ìš´ë“œ ì¢…ë£Œ")
                return True

        # ë‹¤ìŒ í”Œë ˆì´ì–´
        current_pos = (current_pos + 1) % len(self.players)

        # ì¢…ë£Œ ì¡°ê±´ ì²´í¬
        if self.is_betting_round_complete(players_acted, start_pos, current_pos):
            break

        # ë¬´í•œ ë£¨í”„ ë°©ì§€
        if action_count > 100:
            print("âš ï¸  ë² íŒ… ë¼ìš´ë“œ ë¹„ì •ìƒ ì¢…ë£Œ")
            break

    # ë¼ìš´ë“œ ì¢…ë£Œ ì •ë¦¬
    self.cleanup_betting_round()
    return False  # ì¡°ê¸° ì¢…ë£Œ ì•„ë‹˜

def cleanup_betting_round(self):
    """ë² íŒ… ë¼ìš´ë“œ ì¢…ë£Œ í›„ ì •ë¦¬"""
    for player in self.players:
        player.current_bet = 0
    self.current_bet = 0
```

### ì•¡ì…˜ ì²˜ë¦¬

```python
def process_action(self, player: Player, action: Action, amount: int, phase: GamePhase):
    """í”Œë ˆì´ì–´ ì•¡ì…˜ ì²˜ë¦¬"""
    if action == Action.FOLD:
        player.fold()
        print(f"  {player.name}: FOLD ğŸ’¨")

    elif action == Action.CHECK:
        print(f"  {player.name}: CHECK âœ‹")

    elif action == Action.CALL:
        call_amount = self.current_bet - player.current_bet
        actual_bet = player.bet(call_amount)
        self.pot += actual_bet
        print(f"  {player.name}: CALL {actual_bet} ğŸ’µ (íŒŸ: {self.pot})")
        if player.is_all_in:
            print(f"    âš ï¸  {player.name} ì˜¬ì¸!")

    elif action == Action.RAISE:
        raise_amount = amount
        actual_bet = player.bet(raise_amount)
        self.pot += actual_bet
        self.current_bet = player.current_bet
        print(f"  {player.name}: RAISE {actual_bet} ğŸ”¥ (íŒŸ: {self.pot})")
        if player.is_all_in:
            print(f"    âš ï¸  {player.name} ì˜¬ì¸!")

    elif action == Action.ALL_IN:
        all_in_amount = player.chips
        actual_bet = player.bet(all_in_amount)
        self.pot += actual_bet
        if player.current_bet > self.current_bet:
            self.current_bet = player.current_bet
        print(f"  {player.name}: ALL-IN {actual_bet} ğŸ’¥ (íŒŸ: {self.pot})")

    # í˜„ì¬ ìƒíƒœ ì¶œë ¥
    print(f"    ì¹©: {player.chips} | í˜„ì¬ ë² íŒ…: {player.current_bet}")
```

---

## ì¡°ê¸° ì¢…ë£Œ ì¼€ì´ìŠ¤

### ì¡°ê¸° ì¢…ë£Œ ì¡°ê±´

```python
def check_early_finish(self) -> bool:
    """ì¡°ê¸° ì¢…ë£Œ í™•ì¸"""
    # í´ë“œí•˜ì§€ ì•Šì€ í”Œë ˆì´ì–´ ìˆ˜
    active_count = sum(1 for p in self.players if not p.has_folded)

    if active_count == 1:
        # 1ëª…ë§Œ ë‚¨ìŒ â†’ ì¦‰ì‹œ ìŠ¹ë¦¬
        winner = next(p for p in self.players if not p.has_folded)
        print(f"\\nğŸ‰ {winner.name}ë‹˜ì´ ìŠ¹ë¦¬! (ë‹¤ë¥¸ í”Œë ˆì´ì–´ ëª¨ë‘ í´ë“œ)")
        self.award_pot_to_winner(winner)
        return True

    return False
```

### ì¡°ê¸° ì¢…ë£Œ ì‹œë‚˜ë¦¬ì˜¤

#### ì‹œë‚˜ë¦¬ì˜¤ 1: í”„ë¦¬í”Œë¡­ì—ì„œ ëª¨ë‘ í´ë“œ
```
ìƒí™©:
- í”Œë ˆì´ì–´ A (ë”œëŸ¬/SB): FOLD
- í”Œë ˆì´ì–´ B (BB): ìë™ ìŠ¹ë¦¬

ê²°ê³¼:
- Bê°€ ë¸”ë¼ì¸ë“œ íšë“ (SB + BB)
- ë‹¤ìŒ í•¸ë“œë¡œ ì¦‰ì‹œ ì§„í–‰
```

#### ì‹œë‚˜ë¦¬ì˜¤ 2: í”Œë¡­ì—ì„œ 1ëª… ì œì™¸ ëª¨ë‘ í´ë“œ
```
ìƒí™©:
- í”Œë ˆì´ì–´ A: RAISE 20
- í”Œë ˆì´ì–´ B: FOLD
- í”Œë ˆì´ì–´ C: FOLD

ê²°ê³¼:
- Aê°€ íŒŸ íšë“
- í™€ ì¹´ë“œ ê³µê°œ ë¶ˆí•„ìš”
- TURN, RIVER, SHOWDOWN ìƒëµ
```

### êµ¬í˜„ ì½”ë“œ

```python
def award_pot_to_winner(self, winner: Player):
    """íŒŸì„ ìŠ¹ìì—ê²Œ ì§€ê¸‰"""
    winner.chips += self.pot
    print(f"ğŸ’° {winner.name}ë‹˜ì´ {self.pot} ì¹© íšë“")
    print(f"   í˜„ì¬ ì¹©: {winner.chips}")
    self.pot = 0
```

---

## ì‡¼ë‹¤ìš´ ë° íŒŸ ë¶„ë°°

### ì‡¼ë‹¤ìš´ ì‹œí€€ìŠ¤

```python
def showdown(self):
    """ì‡¼ë‹¤ìš´ - ìµœì¢… ìŠ¹ì ê²°ì •"""
    print("\\n" + "="*50)
    print("  ğŸƒ SHOWDOWN")
    print("="*50)

    # 1. ë‚¨ì€ í”Œë ˆì´ì–´ í™•ì¸
    remaining_players = [p for p in self.players if not p.has_folded]

    if len(remaining_players) == 1:
        # ì¡°ê¸° ì¢…ë£Œ (ì´ë¯¸ ì²˜ë¦¬ë¨)
        return

    # 2. ê° í”Œë ˆì´ì–´ íŒ¨ ê³µê°œ
    print("\\ní”Œë ˆì´ì–´ íŒ¨:")
    for player in remaining_players:
        hand_str = ", ".join([str(card) for card in player.hand])
        print(f"  {player.name}: {hand_str}")

    print(f"\\nì»¤ë®¤ë‹ˆí‹° ì¹´ë“œ: {', '.join([str(c) for c in self.community_cards])}")

    # 3. ì¡±ë³´ í‰ê°€
    hands = []
    for player in remaining_players:
        all_cards = player.hand + self.community_cards
        best_hand = HandEvaluator.evaluate_hand(all_cards)
        hands.append((player, best_hand))
        rank, kickers = best_hand
        print(f"  {player.name}: {rank.korean_name}")

    # 4. ìŠ¹ì ê²°ì •
    winners = self.determine_winners(hands)

    # 5. íŒŸ ë¶„ë°°
    self.distribute_pot(winners)

def determine_winners(self, hands: List[Tuple[Player, Tuple]]) -> List[Player]:
    """ìŠ¹ì ê²°ì •"""
    if not hands:
        return []

    # ìµœê³  í•¸ë“œ ì°¾ê¸°
    best_hand = hands[0][1]
    for _, hand in hands[1:]:
        comparison = HandEvaluator.compare_hands(hand, best_hand)
        if comparison > 0:
            best_hand = hand

    # ìµœê³  í•¸ë“œì™€ ë™ì¼í•œ í”Œë ˆì´ì–´ë“¤ (ë¬´ìŠ¹ë¶€ ê°€ëŠ¥)
    winners = []
    for player, hand in hands:
        if HandEvaluator.compare_hands(hand, best_hand) == 0:
            winners.append(player)

    return winners

def distribute_pot(self, winners: List[Player]):
    """íŒŸ ë¶„ë°°"""
    if not winners:
        return

    num_winners = len(winners)
    pot_per_winner = self.pot // num_winners
    remainder = self.pot % num_winners

    print(f"\\nğŸ’° íŒŸ ë¶„ë°°:")
    for i, winner in enumerate(winners):
        # ê¸°ë³¸ ë¶„ë°°ì•¡
        award = pot_per_winner

        # ë‚˜ë¨¸ì§€ ì¹©ì€ ë”œëŸ¬ì— ê°€ê¹Œìš´ ìˆœì„œë¡œ ë¶„ë°°
        if i < remainder:
            award += 1

        winner.chips += award
        print(f"  ğŸ† {winner.name}: {award} ì¹© íšë“ (ì´ {winner.chips} ì¹©)")

    self.pot = 0
```

### ì‚¬ì´ë“œ íŒŸ ì²˜ë¦¬ (ê³ ê¸‰)

```python
def create_side_pots(self) -> List[Dict]:
    """ì‚¬ì´ë“œ íŒŸ ìƒì„±"""
    # ì˜¬ì¸í•œ í”Œë ˆì´ì–´ë“¤ì˜ ë² íŒ…ì•¡ ìˆ˜ì§‘
    bets = []
    for player in self.players:
        if not player.has_folded:
            total_bet = player.total_bet_this_hand  # ëˆ„ì  ë² íŒ…ì•¡
            bets.append((player, total_bet))

    # ë² íŒ…ì•¡ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
    bets.sort(key=lambda x: x[1])

    # ì‚¬ì´ë“œ íŒŸ ê³„ì‚°
    pots = []
    previous_level = 0

    for i, (player, bet_amount) in enumerate(bets):
        # ì´ ë ˆë²¨ì— ì°¸ì—¬í•  ìˆ˜ ìˆëŠ” í”Œë ˆì´ì–´
        eligible_players = bets[i:]
        num_eligible = len(eligible_players)

        # íŒŸ ê¸ˆì•¡
        pot_size = (bet_amount - previous_level) * num_eligible

        if pot_size > 0:
            pots.append({
                'amount': pot_size,
                'players': [p for p, _ in eligible_players]
            })

        previous_level = bet_amount

    return pots
```

---

## ê²Œì„ ì¢…ë£Œ ì¡°ê±´

### ì¢…ë£Œ í™•ì¸

```python
def is_game_over(self) -> bool:
    """ê²Œì„ ì¢…ë£Œ í™•ì¸"""
    # ì¹©ì´ ìˆëŠ” í”Œë ˆì´ì–´ê°€ 1ëª… ì´í•˜
    active_players = [p for p in self.players if p.chips > 0]
    return len(active_players) <= 1

def end_game(self):
    """ê²Œì„ ì¢…ë£Œ ì²˜ë¦¬"""
    print("\\n" + "="*50)
    print("  ğŸ ê²Œì„ ì¢…ë£Œ")
    print("="*50)

    # ìµœì¢… ìˆœìœ„
    ranked = sorted(self.players, key=lambda p: p.chips, reverse=True)

    print("\\nìµœì¢… ìˆœìœ„:")
    for i, player in enumerate(ranked, 1):
        print(f"  {i}ìœ„: {player.name} - {player.chips} ì¹©")

    # í†µê³„ ì¶œë ¥ (ì˜µì…˜)
    self.print_statistics()
```

---

## êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### í•µì‹¬ ê¸°ëŠ¥
- [ ] `new_hand()` - í•¸ë“œ ì‹œì‘ ë¡œì§
- [ ] `move_dealer_button()` - ë”œëŸ¬ ë²„íŠ¼ ì´ë™
- [ ] `post_blinds()` - ë¸”ë¼ì¸ë“œ ë² íŒ…
- [ ] `run_betting_round()` - ë² íŒ… ë¼ìš´ë“œ ì‹¤í–‰
- [ ] `check_early_finish()` - ì¡°ê¸° ì¢…ë£Œ í™•ì¸
- [ ] `showdown()` - ì‡¼ë‹¤ìš´ ì²˜ë¦¬
- [ ] `distribute_pot()` - íŒŸ ë¶„ë°°

### í—¬í¼ í•¨ìˆ˜
- [ ] `get_sb_position()` - SB ìœ„ì¹˜ ê³„ì‚°
- [ ] `get_bb_position()` - BB ìœ„ì¹˜ ê³„ì‚°
- [ ] `get_player_action()` - í”Œë ˆì´ì–´ ì•¡ì…˜ ì…ë ¥
- [ ] `process_action()` - ì•¡ì…˜ ì²˜ë¦¬
- [ ] `is_betting_round_complete()` - ë² íŒ… ë¼ìš´ë“œ ì¢…ë£Œ í™•ì¸

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
- [ ] ì •ìƒ í•¸ë“œ ì§„í–‰ (PREFLOP â†’ SHOWDOWN)
- [ ] ì¡°ê¸° ì¢…ë£Œ (í”„ë¦¬í”Œë¡­ í´ë“œ)
- [ ] ì¡°ê¸° ì¢…ë£Œ (í”Œë¡­/í„´/ë¦¬ë²„ í´ë“œ)
- [ ] ì˜¬ì¸ ìƒí™©
- [ ] ì‚¬ì´ë“œ íŒŸ ìƒì„±
- [ ] ë¬´ìŠ¹ë¶€ (Split Pot)

---

## ì°¸ê³  ìë£Œ

### ê´€ë ¨ ë¬¸ì„œ
- `docs/ê²Œì„ê·œì¹™.md` - ê²Œì„ ê·œì¹™ ìƒì„¸
- `docs/ìƒíƒœë‹¤ì´ì–´ê·¸ë¨.md` - FSM ì„¤ê³„

### ê´€ë ¨ íŒŒì¼
- `src/core/game.py` - ê²Œì„ ë¡œì§ êµ¬í˜„
- `src/core/player.py` - í”Œë ˆì´ì–´ ì•¡ì…˜
- `src/algorithms/hand_evaluator.py` - ì¡±ë³´ í‰ê°€

---

**ë¬¸ì„œ ë²„ì „**: 1.0
**ìµœì¢… ìˆ˜ì •**: 2025-10-01
